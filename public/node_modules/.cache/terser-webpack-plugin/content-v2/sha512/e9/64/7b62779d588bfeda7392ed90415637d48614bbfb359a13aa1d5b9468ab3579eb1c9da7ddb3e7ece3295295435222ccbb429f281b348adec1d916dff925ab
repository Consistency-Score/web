{"map":{"version":3,"sources":["static/js/pages-Profile-hooks-useNotice.5bac2e73.chunk.js"],"names":["window","push","6Tlw","module","__webpack_exports__","__webpack_require__","d","useCurrentUserNoticesQuery","_apollo_client__WEBPACK_IMPORTED_MODULE_0__","_fragments_UserNoticeFragment__WEBPACK_IMPORTED_MODULE_1__","core__WEBPACK_IMPORTED_MODULE_2__","_t","QUERY","Object","t","options","fkbp","r","react__WEBPACK_IMPORTED_MODULE_1__","graphql_mutations_MarkNoticeAsSeen__WEBPACK_IMPORTED_MODULE_2__","notice","markNoticeAsSeen","ignoreResults","seen","variables","input","noticeType","type","mopf","react__WEBPACK_IMPORTED_MODULE_0__","_useMarkNoticesAsSeen__WEBPACK_IMPORTED_MODULE_1__","types_graphql_global_types__WEBPACK_IMPORTED_MODULE_2__","graphql_queries_CurrentUserNotices__WEBPACK_IMPORTED_MODULE_3__","SUPPORTED_NOTICES","OPEN_HUMAN_APPROVAL_REJECT","_data$currentUser2","data","notices","_data$currentUser$not","_data$currentUser","currentUser","visibleNotices","filter","visible","includes","relevantNotice","sort","a","b","indexOf"],"mappings":"CAACA,OAAmC,2BAAIA,OAAmC,4BAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,KAAK,CAE9FC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOG,KAC9E,IAAIC,EAA8CH,EAAoB,QAClEI,EAA6DJ,EAAoB,QACjFK,EAAoCL,EAAoB,QACjF,IACIM,EAKJ,MAAMC,EAAQC,OAAOL,EAAiD,IAAxDK,CAA2DF,IAAOA,GANxEG,GAAKA,EAMyE;;;;;;;;;;IAUlF;GACAD,OAAOH,EAA4D,EAAnEG,CAAsE,CAACJ,EAA4E,KACjJF,EAA6BQ,GAAWF,OAAOL,EAAsD,SAA7DK,CAAgED,EAAOG,IAI/GC,KACA,SAAUb,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBY,EAAEb,GACkFC,EAAoB,QAAvG,IAEIa,EAAqCb,EAAoB,QAEzDc,EAAkEd,EAAoB,QAsBlFD,EAA6B,QAjB7BgB,IAC3B,MAAOC,GAAoBR,OAAOM,EAAqG,EAA5GN,CAA+G,CACxIS,eAAe,IAEjBT,OAAOK,EAA8C,UAArDL,CAAwD,IAAM,KACxDO,IAAWA,EAAOG,MACpBF,EAAiB,CACfG,UAAW,CACTC,MAAO,CACLC,WAAYN,EAAOO,UAK1B,CAACP,EAAQC,MAORO,KACA,SAAUzB,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBY,EAAEb,GACD,IAAIyB,EAAqCxB,EAAoB,QAEzDyB,EAAqDzB,EAAoB,QACzE0B,EAA0D1B,EAAoB,QAC9E2B,EAAkE3B,EAAoB,QAM/G,MAAM4B,EAAoB,CAACF,EAAgF,EAAEG,4BAsBhF9B,EAA6B,QApBxC,KAChB,IAAI+B,EAEJ,MAAMC,KACJA,GACEvB,OAAOmB,EAAoG,EAA3GnB,GACEwB,EAAUxB,OAAOgB,EAA4C,QAAnDhB,CAAsD,KACpE,IAAIyB,EAAuBC,EAE3B,OAAsM,QAA9LD,EAAiC,OAATF,QAA0B,IAATA,GAAsE,QAA1CG,EAAoBH,EAAKI,mBAA+C,IAAtBD,OAA5D,EAAoGA,EAAkBF,eAA+C,IAA1BC,EAAmCA,EAAwB,IACxQ,CAAU,OAATF,QAA0B,IAATA,GAAuE,QAA3CD,EAAqBC,EAAKI,mBAAgD,IAAvBL,OAA7D,EAAsGA,EAAmBE,UAC1JI,EAAiB5B,OAAOgB,EAA4C,QAAnDhB,CAAsD,IAAMwB,EAAQK,OAAOtB,GAAUA,EAAOuB,SAAWV,EAAkBW,SAASxB,EAAOO,OAAQ,CAACU,IACnKQ,EAAiBhC,OAAOgB,EAA4C,QAAnDhB,CAAsD,IACrD4B,EAAeK,KAAK,CAACC,EAAGC,IAAMf,EAAkBgB,QAAQF,EAAEpB,MAAQM,EAAkBgB,QAAQD,EAAErB,MAAQ,GAAK,GAC5G,GACpB,CAACc,IAEJ,OADA5B,OAAOiB,EAA4D,QAAnEjB,CAAsEgC,GAC/DA"},"code":"(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[105,104],{\"6Tlw\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var n=r(\"VX74\"),s=r(\"KtZd\"),u=r(\"UzkQ\");let c;const i=Object(n.gql)(c||(c=(e=>e)`\n  query CurrentUserNotices {\n    currentUser {\n      id\n      notices {\n        ...UserNoticeFragment\n      }\n    }\n  }\n\n  ${0}\n`),Object(u.s)([s.a])),o=e=>Object(n.useQuery)(i,e)},fkbp:function(e,t,r){\"use strict\";r.r(t);r(\"3bBZ\");var n=r(\"q1tI\"),s=r(\"rWBz\");t.default=e=>{const[t]=Object(s.a)({ignoreResults:!0});Object(n.useEffect)(()=>()=>{e&&!e.seen&&t({variables:{input:{noticeType:e.type}}})},[e,t])}},mopf:function(e,t,r){\"use strict\";r.r(t);var n=r(\"q1tI\"),s=r(\"fkbp\"),u=r(\"8rXW\"),c=r(\"6Tlw\");const i=[u.A.OPEN_HUMAN_APPROVAL_REJECT];t.default=()=>{var e;const{data:t}=Object(c.a)(),r=Object(n.useMemo)(()=>{var e,r;return null!==(e=null===t||void 0===t||null===(r=t.currentUser)||void 0===r?void 0:r.notices)&&void 0!==e?e:[]},[null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.notices]),u=Object(n.useMemo)(()=>r.filter(e=>e.visible&&i.includes(e.type)),[r]),o=Object(n.useMemo)(()=>u.sort((e,t)=>i.indexOf(e.type)>i.indexOf(t.type)?1:-1)[0],[u]);return Object(s.default)(o),o}}}]);","extractedComments":[]}