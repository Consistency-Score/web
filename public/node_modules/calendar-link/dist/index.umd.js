!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t||self).calendarLink={})}(this,function(t){function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function r(t){var e={exports:{}};return t(e,e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n=r(function(t,e){t.exports=function(){var t="millisecond",e="second",r="minute",n="hour",i="day",s="week",o="month",a="quarter",u="year",c="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},p={s:h,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+h(n,2,"0")+":"+h(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,o),s=r-i<0,a=e.clone().add(n+(s?-1:1),o);return+(-(n+(r-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:o,y:u,w:s,d:i,D:c,h:n,m:r,s:e,ms:t,Q:a}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",m={};m[y]=d;var g=function(t){return t instanceof O},$=function(t,e,r){var n;if(!t)return y;if("string"==typeof t)m[t]&&(n=t),e&&(m[t]=e,n=t);else{var i=t.name;m[i]=t,n=i}return!r&&n&&(y=n),n||!r&&y},v=function(t,e){if(g(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},D=p;D.l=$,D.i=g,D.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function d(t){this.$L=$(t.locale,null,!0),this.parse(t)}var h=d.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return D},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=v(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return v(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<v(t)},h.$g=function(t,e,r){return D.u(t)?this[e]:this.set(r,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,a){var f=this,l=!!D.u(a)||a,d=D.p(t),h=function(t,e){var r=D.w(f.$u?Date.UTC(f.$y,e,t):new Date(f.$y,e,t),f);return l?r:r.endOf(i)},p=function(t,e){return D.w(f.toDate()[t].apply(f.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),f)},y=this.$W,m=this.$M,g=this.$D,$="set"+(this.$u?"UTC":"");switch(d){case u:return l?h(1,0):h(31,11);case o:return l?h(1,m):h(0,m+1);case s:var v=this.$locale().weekStart||0,O=(y<v?y+7:y)-v;return h(l?g-O:g+(6-O),m);case i:case c:return p($+"Hours",0);case n:return p($+"Minutes",1);case r:return p($+"Seconds",2);case e:return p($+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(s,a){var f,l=D.p(s),d="set"+(this.$u?"UTC":""),h=(f={},f[i]=d+"Date",f[c]=d+"Date",f[o]=d+"Month",f[u]=d+"FullYear",f[n]=d+"Hours",f[r]=d+"Minutes",f[e]=d+"Seconds",f[t]=d+"Milliseconds",f)[l],p=l===i?this.$D+(a-this.$W):a;if(l===o||l===u){var y=this.clone().set(c,1);y.$d[h](p),y.init(),this.$d=y.set(c,Math.min(this.$D,y.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[D.p(t)]()},h.add=function(t,a){var c,f=this;t=Number(t);var l=D.p(a),d=function(e){var r=v(f);return D.w(r.date(r.date()+Math.round(e*t)),f)};if(l===o)return this.set(o,this.$M+t);if(l===u)return this.set(u,this.$y+t);if(l===i)return d(1);if(l===s)return d(7);var h=(c={},c[r]=6e4,c[n]=36e5,c[e]=1e3,c)[l]||1,p=this.$d.getTime()+t*h;return D.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=D.z(this),i=this.$locale(),s=this.$H,o=this.$m,a=this.$M,u=i.weekdays,c=i.months,f=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},d=function(t){return D.s(s%12||12,t,"0")},h=i.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:D.s(a+1,2,"0"),MMM:f(i.monthsShort,a,c,3),MMMM:f(c,a),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,u,2),ddd:f(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:D.s(s,2,"0"),h:d(1),hh:d(2),a:h(s,o,!0),A:h(s,o,!1),m:String(o),mm:D.s(o,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:n};return r.replace(l,function(t,e){return e||p[t]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,f){var l,d=D.p(c),h=v(t),p=6e4*(h.utcOffset()-this.utcOffset()),y=this-h,m=D.m(this,h);return m=(l={},l[u]=m/12,l[o]=m,l[a]=m/3,l[s]=(y-p)/6048e5,l[i]=(y-p)/864e5,l[n]=y/36e5,l[r]=y/6e4,l[e]=y/1e3,l)[d]||y,f?m:D.a(m)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return m[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=$(t,e,!0);return n&&(r.$L=n),r},h.clone=function(){return D.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}(),b=O.prototype;return v.prototype=b,[["$ms",t],["$s",e],["$m",r],["$H",n],["$W",i],["$M",o],["$y",u],["$D",c]].forEach(function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,O,v),t.$i=!0),v},v.locale=$,v.isDayjs=g,v.unix=function(t){return v(1e3*t)},v.en=m[y],v.Ls=m,v.p={},v}()}),i=r(function(t,e){t.exports=function(t,e,r){var n=e.prototype;r.utc=function(t){return new e({date:t,utc:!0,args:arguments})},n.utc=function(t){var e=r(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},n.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var i=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),i.call(this,t)};var s=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var o=n.utcOffset;n.utcOffset=function(t,e){var r=this.$utils().u;if(r(t))return this.$u?0:r(this.$offset)?o.call(this):this.$offset;var n=Math.abs(t)<=16?60*t:t,i=this;if(e)return i.$offset=n,i.$u=0===t,i;if(0!==t){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(n+s,"minute")).$offset=n,i.$x.$localOffset=s}else i=this.utc();return i};var a=n.format;n.format=function(t){return a.call(this,t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var u=n.toDate;n.toDate=function(t){return"s"===t&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var c=n.diff;n.diff=function(t,e,n){if(t&&this.$u===t.$u)return c.call(this,t,e,n);var i=this.local(),s=r(t).local();return c.call(i,s,e,n)}}}),s="%[a-f0-9]{2}",o=new RegExp(s,"gi"),a=new RegExp("("+s+")+","gi");function u(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;var r=t.slice(0,e=e||1),n=t.slice(e);return Array.prototype.concat.call([],u(r),u(n))}function c(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(o),r=1;r<e.length;r++)e=(t=u(e,r).join("")).match(o);return t}}var f=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=c(r[0]);n!==r[0]&&(e[r[0]]=n)}r=a.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}(t)}},l=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]},d=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?-1!==e.indexOf(o):e(o,a,t))&&(r[o]=a)}return r},h=r(function(t,e){function r(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function n(t,e){return e.encode?e.strict?encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`):encodeURIComponent(t):t}function i(t,e){return e.decode?f(t):t}function s(t){return Array.isArray(t)?t.sort():"object"==typeof t?s(Object.keys(t)).sort((t,e)=>Number(t)-Number(e)).map(e=>t[e]):t}function o(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function a(t){const e=(t=o(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function c(t,e){r((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),n[t=t.replace(/\[\]$/,"")]=e?void 0!==n[t]?[].concat(n[t],r):[r]:r};case"comma":case"separator":return(e,r,n)=>{const s="string"==typeof r&&r.includes(t.arrayFormatSeparator),o="string"==typeof r&&!s&&i(r,t).includes(t.arrayFormatSeparator);r=o?i(r,t):r;const a=s||o?r.split(t.arrayFormatSeparator).map(e=>i(e,t)):null===r?r:i(r,t);n[e]=a};default:return(t,e,r)=>{r[t]=void 0!==r[t]?[].concat(r[t],e):e}}}(e),o=Object.create(null);if("string"!=typeof t)return o;if(!(t=t.trim().replace(/^[?#&]/,"")))return o;for(const r of t.split("&")){if(""===r)continue;let[t,s]=l(e.decode?r.replace(/\+/g," "):r,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:i(s,e),n(i(t,e),s,o)}for(const t of Object.keys(o)){const r=o[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=u(r[t],e);else o[t]=u(r,e)}return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce((t,e)=>{const r=o[e];return t[e]=Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?s(r):r,t},Object.create(null))}e.extract=a,e.parse=c,e.stringify=(t,e)=>{if(!t)return"";r((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const i=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],s=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{const s=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[n(e,t),"[",s,"]"].join("")]:[...r,[n(e,t),"[",n(s,t),"]=",n(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[n(e,t),"[]"].join("")]:[...r,[n(e,t),"[]=",n(i,t)].join("")];case"comma":case"separator":return e=>(r,i)=>null==i||0===i.length?r:0===r.length?[[n(e,t),"=",n(i,t)].join("")]:[[r,n(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,n(e,t)]:[...r,[n(e,t),"=",n(i,t)].join("")]}}(e),o={};for(const e of Object.keys(t))i(e)||(o[e]=t[e]);const a=Object.keys(o);return!1!==e.sort&&a.sort(e.sort),a.map(r=>{const i=t[r];return void 0===i?"":null===i?n(r,e):Array.isArray(i)?i.reduce(s(r),[]).join("&"):n(r,e)+"="+n(i,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=l(t,"#");return Object.assign({url:r.split("?")[0]||"",query:c(a(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:i(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const i=o(t.url).split("?")[0]||"",s=e.extract(t.url),a=e.parse(s,{sort:!1}),u=Object.assign(a,t.query);let c=e.stringify(u,r);c&&(c=`?${c}`);let f=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(f=`#${n(t.fragmentIdentifier,r)}`),`${i}${c}${f}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:i,query:s,fragmentIdentifier:o}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:d(s,r),fragmentIdentifier:o},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}}),p={dateTimeWithOffset:"YYYY-MM-DD[T]HH:mm:ssZ",dateTimeUTC:"YYYYMMDD[T]HHmmss[Z]",allDay:"YYYYMMDD"};function y(t,e){var r=t.endUtc,n=p[t.allDay?"allDay":e];return{start:t.startUtc.format(n),end:r.format(n)}}n.extend(i);var m=function(t){var r=t.start,i=t.end,s=t.duration,o=function(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)e.indexOf(r=s[n])>=0||(i[r]=t[r]);return i}(t,["start","end","duration"]),a=n(r).utc(),u=i?n(i).utc():function(){if(t.allDay)return a.add(1,"day");if(s&&2==s.length){var e=Number(s[0]);return a.add(e,s[1])}return n().utc()}();return e({},o,{startUtc:a,endUtc:u})};t.eventify=m,t.google=function(t){var e=m(t),r=y(e,"dateTimeUTC"),n={action:"TEMPLATE",text:e.title,details:e.description,location:e.location,trp:e.busy,dates:r.start+"/"+r.end};return e.guests&&e.guests.length&&(n.add=e.guests.join()),"https://calendar.google.com/calendar/render?"+h.stringify(n)},t.ics=function(t){var e=m(t),r=(e.description||"").replace(/,/gm,",").replace(/;/gm,";").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n"),n=(e.location||"").replace(/,/gm,",").replace(/;/gm,";").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n"),i=y(e,"dateTimeUTC"),s="";return[{key:"BEGIN",value:"VCALENDAR"},{key:"VERSION",value:"2.0"},{key:"BEGIN",value:"VEVENT"},{key:"URL",value:e.url},{key:"DTSTART",value:i.start},{key:"DTEND",value:i.end},{key:"SUMMARY",value:e.title},{key:"DESCRIPTION",value:r},{key:"LOCATION",value:n},{key:"END",value:"VEVENT"},{key:"END",value:"VCALENDAR"}].forEach(function(t){t.value&&(s+=t.key+":"+encodeURIComponent(t.value+"\n"))}),"data:text/calendar;charset=utf8,"+s},t.office365=function(t){var e=m(t),r=y(e,"dateTimeWithOffset");return"https://outlook.office.com/calendar/0/deeplink/compose?"+h.stringify({path:"/calendar/action/compose",rru:"addevent",startdt:r.start,enddt:r.end,subject:e.title,body:e.description,location:e.location})},t.outlook=function(t){var e=m(t),r=y(e,"dateTimeWithOffset");return"https://outlook.live.com/calendar/0/deeplink/compose?"+h.stringify({path:"/calendar/action/compose",rru:"addevent",startdt:r.start,enddt:r.end,subject:e.title,body:e.description,location:e.location})},t.yahoo=function(t){var e=m(t),r=y(e,"dateTimeUTC");return"https://calendar.yahoo.com/?"+h.stringify({v:60,title:e.title,st:r.start,et:r.end,desc:e.description,in_loc:e.location})}});
//# sourceMappingURL=index.umd.js.map
