"use strict";var v=require("fs"),g=require("module"),a=require("@esbuild-kit/core-utils"),l=require("get-tsconfig");function u(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var p=u(v),i=u(g);const _=/^\.{0,2}\//,y=/\.[cm]?tsx?$/,n=l.getTsconfig(),j=n==null?void 0:n.config,d=n&&l.createPathsMatcher(n),b=a.installSourceMapSupport();function m(t,e){process.send&&process.send({type:"dependency",path:e});const c=p.default.readFileSync(e,"utf8"),s=a.transformSync(c,e,{format:"cjs",tsconfigRaw:j});s.map&&b.set(e,s.map),t._compile(s.code,e)}const h=i.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(t=>{h[t]=m}),[".cjs",".mjs",".cts",".mts"].forEach(t=>{Object.defineProperty(h,t,{value:m,enumerable:!1})});const f=i.default._resolveFilename;i.default._resolveFilename=function(t,e,c,s){if(t.startsWith("node:")&&(t=t.slice(5)),d&&!_.test(t)){const o=d(t);for(const r of o)try{return f.call(this,r,e,c,s)}catch{}}if(e&&y.test(e.filename)){const o=a.resolveTsPath(t);if(o)try{return f.call(this,o,e,c,s)}catch(r){if(r.code!=="MODULE_NOT_FOUND")throw r}}return f.call(this,t,e,c,s)};
